---
import type { Recipe } from '../../types/recipe'
import Heading from '../Heading.astro'
import Label from '../Label.astro'

interface Props {
  recipe: Recipe
  exclude?: 'imageUrl' | 'slug' | 'name' | 'description' | 'ingredients' | 'rating' | 'timeToCook' | 'uploadDate'
  color?: 'primary' | 'secondary'
}

const { recipe, color = 'primary' } = Astro.props
---
<a
  href={`/recipes/${recipe.slug.current}`}
  class="focus:ring-primary-500 group block focus:outline-none focus:ring-2 focus:ring-offset-4"
>
  <article class="gap-y-4">
    <div>
      {recipe.imageUrl
      ? (
        <img
          src={recipe.imageUrl}
          alt={recipe.name}
          class="h-60 w-80 rounded-l-[40px] rounded-r-lg object-cover"
        />
        )
     : (
        <img
          src="https://placehold.co/600x400"
          alt="Placeholder"
          class="h-60 w-80 rounded-l-[40px] rounded-r-lg object-cover"
        />
      )}
    </div>
    <div class="flex flex-col gap-y-2 p-4">
      {recipe.categories?.[0] && (
        <Label color="primary">
          {recipe.categories?.[0].name}
        </Label>
      )}
      <Heading
        as="h3"
        size="display-sm"
        class:list={[
          'font-bold group-hover:underline',
          color === 'primary' ? 'text-primary-900' : 'text-secondary-900',
        ]}
      >
        {recipe.name}
      </Heading>

      {recipe.description && (
        <p class="text-sm">
          {recipe.description}
        </p>
      )}

      <div class="flex items-center gap-x-1">
        {recipe.timeToCook && (
          <div class="mt-2 flex items-center gap-x-1">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-[18px] w-[18px]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span>{recipe.timeToCook} minuten</span>
          </div>
        )}
        {recipe.timeToCook && (
          <div class="mt-2 flex items-center gap-x-1">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-[18px] w-[18px]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span>{recipe.timeToCook} minuten</span>
          </div>
        )}
      </div>
    </div>
  </article>
</a>
